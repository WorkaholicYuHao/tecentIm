{"remainingRequest":"/Users/yuhao/TIMSDK/H5/node_modules/thread-loader/dist/cjs.js!/Users/yuhao/TIMSDK/H5/node_modules/babel-loader/lib/index.js!/Users/yuhao/TIMSDK/H5/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yuhao/TIMSDK/H5/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuhao/TIMSDK/H5/src/components/user/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuhao/TIMSDK/H5/src/components/user/login.vue","mtime":1616982605606},{"path":"/Users/yuhao/TIMSDK/H5/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhao/TIMSDK/H5/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhao/TIMSDK/H5/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yuhao/TIMSDK/H5/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhao/TIMSDK/H5/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _Option2 from \"element-ui/lib/theme-chalk/option.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Option from \"element-ui/lib/option\";\nimport _Select2 from \"element-ui/lib/theme-chalk/select.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Select from \"element-ui/lib/select\";\nimport _FormItem2 from \"element-ui/lib/theme-chalk/form-item.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _FormItem from \"element-ui/lib/form-item\";\nimport _Form2 from \"element-ui/lib/theme-chalk/form.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Form from \"element-ui/lib/form\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport logo from \"../../assets/image/logo.png\";\nexport default {\n  name: 'Login',\n  components: {\n    ElForm: _Form,\n    ElFormItem: _FormItem,\n    ElSelect: _Select,\n    ElOption: _Option\n  },\n  data: function data() {\n    var checkUserID = function checkUserID(rule, value, callback) {\n      if (!/^[a-zA-Z][a-zA-Z0-9_]{3,23}$/.test(value)) {\n        callback(new Error('不合法（字母开头+字母/数字，长度4-24)'));\n      } else {\n        callback();\n      }\n    };\n\n    return {\n      form: {\n        userID: 'user0',\n        password: ''\n      },\n      rules: {\n        userID: [{\n          required: true,\n          message: '请输入 userID',\n          trigger: 'blur'\n        }, {\n          validator: checkUserID,\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }]\n      },\n      logo: logo,\n      registerVisible: false,\n      loading: false\n    };\n  },\n  methods: {\n    submit: function submit() {\n      var _this = this;\n\n      this.$refs['login'].validate(function (valid) {\n        if (valid) {\n          _this.login();\n        }\n      });\n    },\n    login: function login() {\n      var _this2 = this;\n\n      this.loading = true;\n      this.tim.login({\n        userID: this.form.userID,\n        userSig: window.genTestUserSig(this.form.userID).userSig\n      }).then(function () {\n        _this2.loading = false;\n\n        _this2.$store.commit('toggleIsLogin', true);\n\n        _this2.$store.commit('startComputeCurrent');\n\n        _this2.$store.commit('showMessage', {\n          type: 'success',\n          message: '登录成功'\n        });\n\n        _this2.$store.commit({\n          type: 'GET_USER_INFO',\n          userID: _this2.form.userID,\n          userSig: window.genTestUserSig(_this2.form.userID).userSig,\n          sdkAppID: window.genTestUserSig('').SDKAppID\n        });\n\n        _this2.$store.commit('showMessage', {\n          type: 'success',\n          message: '登录成功'\n        });\n      }).catch(function (error) {\n        _this2.loading = false;\n\n        _this2.$store.commit('showMessage', {\n          message: '登录失败：' + error.message,\n          type: 'error'\n        });\n      });\n    }\n  }\n};",null]}
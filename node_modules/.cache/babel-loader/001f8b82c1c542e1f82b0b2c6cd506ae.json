{"remainingRequest":"/Users/yuhao/TIMSDK/H5/node_modules/thread-loader/dist/cjs.js!/Users/yuhao/TIMSDK/H5/node_modules/babel-loader/lib/index.js!/Users/yuhao/TIMSDK/H5/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yuhao/TIMSDK/H5/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuhao/TIMSDK/H5/src/components/group/member-profile-card.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuhao/TIMSDK/H5/src/components/group/member-profile-card.vue","mtime":1616982605601},{"path":"/Users/yuhao/TIMSDK/H5/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhao/TIMSDK/H5/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhao/TIMSDK/H5/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yuhao/TIMSDK/H5/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhao/TIMSDK/H5/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _Divider2 from \"element-ui/lib/theme-chalk/divider.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Divider from \"element-ui/lib/divider\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getFullDate } from \"../../utils/date\"; // 群成员资料卡片组件，全局共用同一个组件。\n\nexport default {\n  name: 'MemberProfileCard',\n  components: {\n    ElDivider: _Divider\n  },\n  data: function data() {\n    return {\n      member: {},\n      x: 0,\n      // 显示的位置 x\n      y: 0,\n      // 显示的位置 y\n      visible: false\n    };\n  },\n  mounted: function mounted() {\n    // 通过事件总线，监听 showMemebrProfile 事件\n    this.$bus.$on('showMemberProfile', this.handleShowMemberProfile, this);\n  },\n  computed: {\n    joinTime: function joinTime() {\n      if (this.member.joinTime) {\n        return getFullDate(new Date(this.member.joinTime * 1000));\n      }\n\n      return '';\n    },\n    muteUntil: function muteUntil() {\n      if (this.member.muteUntil) {\n        return getFullDate(new Date(this.member.muteUntil * 1000));\n      }\n\n      return '';\n    }\n  },\n  methods: {\n    handleSendMessage: function handleSendMessage() {\n      this.$store.dispatch('checkoutConversation', \"C2C\".concat(this.member.userID));\n      this.hide();\n    },\n    handleShowMemberProfile: function handleShowMemberProfile(_ref) {\n      var event = _ref.event,\n          member = _ref.member;\n      // 可以拿到 meber 和 点击事件的 event 信息\n      this.member = member || {};\n      this.x = event.x;\n      this.y = event.y;\n      this.show();\n    },\n    show: function show() {\n      if (this.visible) {\n        return;\n      } // 显示时，监听全局点击事件，若点击区域不是当前组件，则隐藏\n\n\n      window.addEventListener('click', this.handleClick, this);\n      this.visible = true;\n    },\n    hide: function hide() {\n      if (!this.visible) {\n        return;\n      } // 隐藏时，注销监听\n\n\n      window.removeEventListener('click', this.handleClick, this);\n      this.visible = false;\n    },\n    handleClick: function handleClick(event) {\n      // 判断点击区域是否是当前组件，若不是，则隐藏组件\n      if (event.target !== this.$refs['member-profile-card']) {\n        this.hide();\n      }\n    }\n  }\n};",null]}
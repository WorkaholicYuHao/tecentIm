{"remainingRequest":"/Users/yuhao/TIMSDK/H5/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuhao/TIMSDK/H5/src/components/message/message-header.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuhao/TIMSDK/H5/src/components/message/message-header.vue","mtime":1616982605604},{"path":"/Users/yuhao/TIMSDK/H5/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhao/TIMSDK/H5/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhao/TIMSDK/H5/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yuhao/TIMSDK/H5/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuhao/TIMSDK/H5/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n\nimport { mapState } from 'vuex'\nimport { getFullDate } from '../../utils/date'\nexport default {\n  name: 'MessageHeader',\n  props: {\n    message: {\n      type: Object,\n      required: true\n    }\n  },\n  computed: {\n    ...mapState({\n      currentConversation: state => state.conversation.currentConversation,\n      currentUserProfile: state => state.user.currentUserProfile,\n      currentMemberList: state => state.group.currentMemberList\n    }),\n    date() {\n      return getFullDate(new Date(this.message.time * 1000))\n    },\n    from() {\n      const isC2C = this.currentConversation.type === this.TIM.TYPES.CONV_C2C\n      // 自己发送的用昵称渲染\n      if (this.isMine) {\n        return  this.currentUserProfile.nick || this.currentUserProfile.userID\n      }\n      // 1. C2C 的消息体中还无 nick / avatar 字段，需从 conversation.userProfile 中获取\n      if (isC2C) {\n        return (\n          this.currentConversation.userProfile.nick ||\n          this.currentConversation.userProfile.userID\n        )\n      } else if (this.currentConversation.type === this.TIM.TYPES.CONV_SYSTEM) {\n        return this.message.type === this.TIM.TYPES.MSG_GRP_SYS_NOTICE\n          ? '群系统通知'\n          : '系统通知'\n      }\n      // 2. 群组消息，用消息体中的 nick 渲染。nameCard暂时支持不完善\n      return this.message.nameCard ||  this.message.nick || this.message.from\n    },\n    isMine() {\n      return this.message.flow === 'out'\n    }\n  }\n}\n",null]}